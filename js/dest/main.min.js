/*! SassyWebTemplate - v0.1.4 - 07-13-2015 */var _core=angular.module("_core",[]);_core.controller("mainController",["$rootScope","$scope","$log","menu","lightbox","backstretch","utils",function(a,b,c,d,e,f,g){var h={utils:g,menu:d,lightbox:e,backstretch:f};b.module={};for(var i in h){var j=i,k={};k[j]=h[i],b.module=angular.merge({},b.module,k)}b.options={fluidLayoutSmall:1008,fluidLayoutLarge:1300,smallFluidClass:"fluid",nonFluidClass:"static",largeFluidClass:"wide",isSmaller:null,isLarger:null},b.methods={debug:function(){angular.element("body").toggleClass("debug",!angular.element("body").hasClass("debug"))},oops:function(a,b,d){console.log("ty",a,b,d),c.warn("Couldn't find "+("run"==a?"funciton":"key")+": "+b)},bindFluidClass:function(){b.options.isSmaller=Modernizr.mq("(max-width: "+b.options.fluidLayoutSmall+"px)")?!0:!1,b.options.isLarger=Modernizr.mq("(max-width: "+b.options.fluidLayoutLarge+"px)")?!0:!1;var a=angular.element(".gridContainer, body, html");a.toggleClass(b.options.smallFluidClass,b.options.isSmaller),a.toggleClass(b.options.nonFluidClass,!b.options.isSmaller),angular.element("body").toggleClass(b.options.largeFluidClass,!b.options.isLarger)}},a.onReady=function(a){b.methods.bindFluidClass();for(var c in b.module)angular.isFunction(b.module[c].onReady)&&b.module[c].onReady.apply(this,[a])},a.onResize=function(a){b.methods.bindFluidClass();for(var c in b.module)angular.isFunction(b.module[c].onResize)&&b.module[c].onResize.apply(this,[a])},a.onScroll=function(a){for(var c in b.module)angular.isFunction(b.module[c].onScroll)&&b.module[c].onScroll.apply(this,[a])}}]);var _core_extension={run:function(a,b){console.log("parms",b);var c=_core_extension.finder("run",a,b);return _core_extension.refresh(),c},get:function(a){return _core_extension.finder("get",a)},set:function(a,b){var c=_core_extension.finder("set",a,b);return _core_extension.refresh(),c},getScope:function(){return angular.element(document).scope()},refresh:function(){_core_extension.getScope().$apply()},finder:function(a,b,c){var d=angular.element(document).scope(),e=d,f=d.$$childTail,g=b.split("."),h=g.pop();for(var i in g)angular.isUndefined(e[g[i]])||(e=e[g[i]]);for(var i in g)angular.isUndefined(f[g[i]])||(f=f[g[i]]);switch(a){case"run":var j=angular.isUndefined(c)?[]:c;if(angular.isFunction(e[h]))return e[h].apply(d,j);if(angular.isFunction(f[h]))return f[h].apply(d,j);break;case"get":if(!angular.isUndefined(e[h]))return e[h];if(!angular.isUndefined(f[h]))return f[h];break;case"set":return angular.isUndefined(h)||angular.isUndefined(c)||(e[h]=c),angular.isUndefined(h)||angular.isUndefined(c)||(f[h]=c),!0}return _core_extension.run("methods.oops",[a,b,c])}};_core=angular.extend({},_core,_core_extension),angular.element(document,window).bind("touchmove",function(a){var b=angular.element(".disableScroll").length;b&&a.preventDefault()}),angular.element(document).ready(function(a){angular.element(this).scope().onReady(a)}),angular.element(window).scroll(function(a){angular.element(document).scope().onScroll(a)}),angular.element(window).on("resize",function(a){angular.element(document).scope().onResize(a)}),_core.factory("backstretch",function(){var a={options:{disableThumbSize:!1,disableLargeSize:!1,thumbImgSize:",50,50",largeImageSize:",1200,665",galleryDelay:500,galleryFadeAnimation:500},onReady:function(){},generateBanner:function(b,c){a.build(b,c,{onLoadCallback:function(){c.removeClass("loading")}})},build:function(b,c,d){var e=a,f=$(b);if(0!=f.length){var d="object"==typeof d?d:{},g=[],h=[];f.find("img").each(function(){var a=$(this).attr("src");if(a=a.split(",")[0]+e.vars.thumbImgSize,h.push(a),$(this).parent().is("a")){var b=$(this).parent().attr("href");b=b.split(",")[0]+e.vars.largeImageSize,g.push(b)}}),f.remove();var i={mainImages:g,thumbs:h},j=$(c);if(g.length>0){j.addClass("hasImages");setTimeout(function(){j.backstretch(g,{duration:e.vars.galleryDelay,fade:e.vars.galleryFadeAnimation,onLoadCallback:function(){j.removeClass("loading").addClass("loaded"),"function"==typeof d.onLoadCallback&&d.onLoadCallback.apply(this,[i])}}),0==d.start&&j.backstretch("pause")},500)}else j.hide();return i}}};return a}),_core.factory("lightbox",function(){var a={options:{selector:".lightbox"},onReady:function(){a.init()},init:function(){var b=$(a.options.selector);0!=b.length&&b.magnificPopup({type:"image",removalDelay:300,mainClass:"mfp-fade"})}};return a}),_core.factory("menu",function(){var a={onReady:function(){},onScroll:function(a){$(window).scrollTop()},onResize:function(){}};return a}),_core.factory("utils",function(){var a={options:{},onReady:function(){},redirect:function(a){angular.element("body").addClass("sprite loading"),window.location=a},scrollTo:function(a,b,c){$(a).length>0&&angular.element("html, body").stop(!0).animate({scrollTop:$(a).offset().top-20-b},400,function(){angular.isFunction(c)&&c.apply()})}};return a});